parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"MbfY":[function(require,module,exports) {
"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=function r(e,o,i){var a=this;t(this,r),n(this,"addition",function(t){if(!t instanceof r)throw new Error("param vector was not Vector");return new r(a.x+t.x,a.y+t.y,a.z+t.z)}),n(this,"subtraction",function(t){if(!t instanceof r)throw new Error("param vector was not Vector");return new r(a.x-t.x,a.y-t.y,a.z-t.z)}),n(this,"multiplication",function(t){if("number"!=typeof t)throw new Error("param num was not numeric");return new r(a.x*t,a.y*t,a.z*t)}),n(this,"division",function(t){if("number"!=typeof t)throw new Error("param num was not numeric");return new r(a.x/t,a.y/t,a.z/t)}),n(this,"dot",function(t){if(!t instanceof r)throw new Error("param v was not Vector");return a.x*t.x+a.y*t.y+a.z+t.z}),n(this,"length",function(){return Math.sqrt(a.squareLength())}),n(this,"squareLength",function(){return a.x*a.x+a.y*a.y+(a.z+a.z)}),n(this,"norm",function(){var t=a.length();return 0==t?new r:new r(a.x/t,a.y/t,a.z/t)}),n(this,"equals",function(t){if(!t instanceof r)throw new Error("param v was not Vector");return a.x==t.x&&a.y==t.y&&a.z==t.z}),n(this,"toString",function(){return"vector(".concat(a.x,", ").concat(a.y,", ").concat(a.z,")")}),this.x=e,this.y=o,this.z=i};exports.default=r;
},{}],"AIfu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e(require("./Vector.js"));function e(r){return r&&r.__esModule?r:{default:r}}function t(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function n(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var o=function e(){var o=this;t(this,e),n(this,"clear",function(){o.arrVector.clear()}),n(this,"push_back",function(e){if(!e instanceof r.default)throw new Error("param v was not Vector type");o.arrVector.push(e)}),n(this,"get",function(r){if("number"==typeof r&&o.arrVector.length>r)return o.arrVector[r]}),n(this,"size",function(){return o.arrVector.length}),n(this,"reverse",function(){o.arrVector.reverse()}),n(this,"empty",function(){return 0===o.arrVector.length}),n(this,"insert",function(e,t){if(!t instanceof r.default)throw new Error("param vector was not Vector type");o.arrVector.splice(e,0,t)}),this.arrVector=[]};exports.default=o;
},{"./Vector.js":"MbfY"}],"xdgX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./Vector.js"));function n(t){return t&&t.__esModule?t:{default:t}}function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function r(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var i=function n(i,a,s){var u=this;e(this,n),r(this,"initFromVector",function(n,e){if(!n instanceof t.default)throw new Error("param start was not Vector Type");if(!e instanceof t.default)throw new Error("param end was not Vector Type");u.A=n.y-e.y,u.B=e.x-n.x,u.C=n.x*e.y-e.x*n.y,u.start=n,u.end=e}),r(this,"initFromNumbers",function(e,r,i){"number"==typeof e&&"number"==typeof r&&"number"==typeof i&&(u.start=new t.default,u.end=new t.default,Math.abs(e)<=n.POLY_SPLIT_EPS&&Math.abs(r)>=n.POLY_SPLIT_EPS?(u.start.x=-1e3,u.start.y=-i/r,u.end.x=1e3,u.end.y=u.start.y):Math.abs(r)<=n.POLY_SPLIT_EPS&&Math.abs(e)>=n.POLY_SPLIT_EPS?(u.start.x=-i/e,u.start.y=-1e3,u.end.x=u.start.x,u.end.y=1e3):(u.start.x=-1e3,u.start.y=-(e*u.start.x+i)/r,u.end.x=1e3,u.end.y=-(e*u.end.x+i)/r)),u.A=e,u.B=r,u.C=i}),r(this,"getStart",function(){return u.start}),r(this,"getEnd",function(){return u.end}),r(this,"length",function(){var t=u.end.x-u.start.x,n=u.end.y-u.start.y;return Math.sqrt(t*t+n*n)}),r(this,"squareLength",function(){var t=u.end.x-u.start.x,n=u.end.y-u.start.y;return t*t+n*n}),r(this,"reverse",function(){return new n(u.end,u.start)}),r(this,"getPointAlong",function(t){var n=u.end.subtraction(u.start).norm().multiplication(t);return u.start.addition(n)}),r(this,"getDistance",function(n){if(void 0!==n&&n instanceof t.default){var e=u.A*n.x+u.B*n.y+u.C,r=Math.sqrt(u.A*u.A+u.B*u.B);return Math.abs(e/r)}}),r(this,"getLineNearestPoint",function(n){if(void 0!==n&&n instanceof t.default){var e=new t.default(u.B,-u.A),r=n.subtraction(u.start).dot(e)/e.squareLength();return u.start.addition(e.multiplication(r))}}),r(this,"getSegmentNearestPoint",function(n){if(void 0===n)throw new Error("param point was undefined");if(!n instanceof t.default)throw new Error("param point was not Vector Type");var e=new t.default(u.B,-u.A,0),r=n.subtraction(u.start).dot(e)/e.squareLength();return r<0?u.start:r>1?u.end:u.start.addition(e.multiplication(r))}),r(this,"pointSide",function(t){var n=u.A.multiplication(t.x-u.start.x).addition(B.multiplication(t.x-u.start.y));return n>0?1:n<0?-1:0}),r(this,"crossLineSegment",function(e){var r=n.det(u.A,u.B,e.A,e.B),i=new t.default;return 0==r?0:(i.x=-n.det(u.C,u.B,e.C,e.B)/r,i.y=-n.det(u.A,u.C,e.A,e.C)/r,{result:i,value:n.inside(i.x,n.minimum(e.start.x,e.end.x),n.maximum(e.start.x,e.end.x))&&n.inside(i.y,n.minimum(e.start.y,e.end.y),n.maximum(e.start.y,e.end.y))})}),r(this,"crossSegmentSegment",function(e){var r=n.det(u.A,u.B,e.A,e.B),i=new t.default;return 0==r?0:(i.x=-n.det(u.C,u.B,e.C,e.B)/r,i.y=-n.det(u.A,u.C,e.A,e.C)/r,{result:i,value:n.inside(i.x,n.minimum(u.start.x,u.end.x),n.maximum(u.start.x,u.end.x))&&n.inside(i.y,n.minimum(u.start.y,u.end.y),n.maximum(u.start.y,u.end.y))&&n.inside(i.x,n.minimum(e.start.x,e.end.x),n.maximum(e.start.x,e.end.x))&&n.inside(i.y,n.minimum(e.start.y,e.end.y),n.maximum(e.start.y,e.end.y))})}),r(this,"crossLineLine",function(e){var r=n.det(u.A,u.B,e.A,e.B),i=new t.default;return 0==r?0:(i.x=-n.det(u.C,u.B,e.C,e.B)/r,i.y=-n.det(u.A,u.C,e.A,e.C)/r,{result:i,value:1})}),r(this,"toString",function(){return"["+u.A+", "+u.B+", "+u.C+"]-{"+u.getStart()+", "+u.getEnd()+"}"}),this.A=null,this.B=null,this.C=null,this.start=null,this.end=null,"number"==typeof i&&"number"==typeof a&&"number"==typeof s?this.initFromNumbers(i,a,s):i instanceof t.default&&a instanceof t.default&&this.initFromVector(i,a)};exports.default=i,r(i,"POLY_SPLIT_EPS",1e-6),r(i,"getBisector",function(t,n){var e=Math.sqrt(t.A*t.A+t.B*t.B),r=Math.sqrt(n.A*n.A+n.B*n.B),a=t.A/e-n.A/r,s=t.B/e-n.B/r,u=t.C/e-n.C/r;return{result:new i(a,s,u),l1:t,l2:n}}),r(i,"getTanAngle",function(t,n){return(t.A*n.B-n.A*t.B)/(t.A*n.A+t.B*n.B)}),r(i,"directedLine",function(n,e){if(!n instanceof t.default)throw new Error("param p was not Vector Type");if(!e instanceof t.default)throw new Error("param d was not Vector Type");return new i(n,n.addition(e))}),r(i,"inside",function(t,n,e){return n<=t+i.POLY_SPLIT_EPS&&t<=e+i.POLY_SPLIT_EPS}),r(i,"det",function(t,n,e,r){return t*r-n*e}),r(i,"maximum",function(t,n){return t<n?n:t}),r(i,"minimum",function(t,n){return t>n?n:t});
},{"./Vector.js":"MbfY"}],"vjZa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("./Polygon.js")),t=i(require("./Line.js"));function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function i(){r(this,i),this.bisector=new t.default,this.leftTriangle=new e.default,this.trapezoid=new e.default,this.rightTriangle=new e.default,this.p1_exist=!1,this.p2_exist=!1,this.p3_exist=!1,this.p4_exist=!1,this.leftTriangleSquare=0,this.trapezoidSquare=0,this.rightTriangleSquare=0,this.totalSquare=0};exports.default=s;
},{"./Polygon.js":"B5rV","./Line.js":"xdgX"}],"B5rV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("./Vector.js")),t=a(require("./Vectors.js")),r=a(require("./Line.js")),n=a(require("./Polygons.js"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function n(a){var u=this;if(i(this,n),o(this,"countSquare",function(){var e=u.countSquare_signed();if("number"==typeof e)return e<0?-1*e:e}),o(this,"countSquare_signed",function(){var e=u.poly.size();if(e<3)return 0;for(var t=0,r=0;r<e;r++)t+=0==r?u.poly.get(r).x*(u.poly.get(e-1).y-u.poly.get(r+1).y):r==e-1?u.poly.get(r).x*(u.poly.get(r-1).y-u.poly.get(0).y):u.poly.get(r).x*(u.poly.get(r-1).y-u.poly.get(r+1).y);return t/2}),o(this,"split",function(e,t){if("number"!=typeof e)throw new Error("param square was not defined");var a=Math.round(u.poly.size()),i=u.poly;u.isClockwise()||i.arrVector.reverse();var o=new n,l=new n;if(u.countSquare()-e<=n.POLY_SPLIT_EPS)return{value:0,poly1:o=u,poly2:l,cutLine:t};for(var s=0,p=Number.MAX_VALUE,g=0;g<a-1;g++)for(var f=g+1;f<a;f++){var c=new n,d=new n,y=n.createSubPoly(i,g,f,c,d);c=y.poly1,d=y.poly2;var w=new r.default(i.get(g),i.get(g+1)),h=new r.default(i.get(f),i.get(f+1<a?f+1:0)),v=new r.default,m=n.getCut(w,h,e,c,d,v);if(v=m.cut,m.value){var b=v.squareLength();b<p&&n.isSegmentInsidePoly(i,v,g,f)&&(p=b,o=c,l=d,t=v,s=1)}}return s?(o.push_back(t.getStart()),o.push_back(t.getEnd()),l.push_back(t.getEnd()),l.push_back(t.getStart()),{value:1,poly1:o,poly2:l,cutLine:t}):{value:0,poly1:o=new n(i),poly2:l,cutLine:t}}),o(this,"indDistance",function(t){if(void 0===t)throw new Error("param point was undefined");if(!t instanceof e.default)throw new Error("param point was not Vector Type");for(var n=Number.MAX_VALUE,a=0,i=Math.round(u.poly.size()-1);a<i;a++){(o=new r.default).initFromVector(u.poly.get(a),u.poly.get(a+1)),(l=o.getSegmentNearestPoint(t).subtraction(t).length())<n&&(n=l)}var o,l;return(o=new r.default).initFromVector(u.poly.get(u.poly.size()-1),u.poly.get(0)),(l=o.getSegmentNearestPoint(t).subtraction(t).length())<n&&(n=l),n}),o(this,"findDistance",function(t){if(void 0===t)throw new Error("param point was undefined");if(!t instanceof e.default)throw new Error("param point was not Vector Type");for(var n=Number.MAX_VALUE,a=0,i=Math.round(u.poly.size()-1);a<i;a++){(o=new r.default).initFromVector(u.poly.get(a),u.poly.get(a+1)),(l=o.getSegmentNearestPoint(t).subtraction(t).length())<n&&(n=l)}var o,l;return(o=new r.default).initFromVector(u.poly.get(u.poly.size()-1),u.poly.get(0)),(l=o.getSegmentNearestPoint(t).subtraction(t).length())<n&&(n=l),n}),o(this,"findDistance",function(t){if(void 0===t)throw new Error("param point was undefined");if(!t instanceof e.default)throw new Error("param point was not Vector Type");for(var n=Number.MAX_VALUE,a=0,i=Math.round(u.poly.size()-1);a<i;a++){(o=new r.default).initFromVector(u.poly.get(a),u.poly.get(a+1)),(l=o.getSegmentNearestPoint(t).subtraction(t).length())<n&&(n=l)}var o,l;return(o=new r.default).initFromVector(u.poly.get(u.poly.size()-1),u.poly.get(0)),(l=o.getSegmentNearestPoint(t).subtraction(t).length())<n&&(n=l),n}),o(this,"findNearestPoint",function(t){if(void 0===t)throw new Error("param point was undefined");if(!t instanceof e.default)throw new Error("param point was not Vector Type");for(var n=null,a=Number.MAX_VALUE,i=0,o=Math.round(u.poly.size()-1);i<o;i++){(l=new r.default).initFromVector(u.poly.get(i),u.poly.get(i+1)),(p=(s=l.getSegmentNearestPoint(t)).subtraction(t).length())<a&&(a=p,n=s)}var l,s,p;return(l=new r.default).initFromVector(u.poly.get(u.poly.size()-1),u.poly.get(0)),(p=(s=l.getSegmentNearestPoint(t)).subtraction(t).length())<a&&(a=p,n=s),n}),o(this,"countCenter",function(){return n.polygonCentroid(u.poly)}),o(this,"splitNearestEdge",function(t){if(void 0===t)throw new Error("param point was undefined");if(!t instanceof e.default)throw new Error("param point was not Vector Type");for(var n,a=-1,i=Number.MAX_VALUE,o=0,l=u.poly.size()-1;o<l;o++){(p=(s=new r.default(u.poly.get(o),u.poly.get(o+1)).getSegmentNearestPoint(t)).subtraction(t).length())<i&&(i=p,a=o,n=s)}var s,p;(p=(s=new r.default(u.poly.get(u.poly.size()-1),u.poly.get(0)).getSegmentNearestPoint(t)).subtraction(t).length())<i&&(i=p,a=u.poly.size()-1,n=s),-1!=a&&u.poly.insert(a+1,n)}),o(this,"isPointInside",function(t){if(void 0===t)throw new Error("param point was undefined");if(!t instanceof e.default)throw new Error("param point was not Vector Type");return n.isPointInsidePoly(u.poly,t)}),o(this,"isClockwise",function(){for(var e=0,t=Math.round(u.poly.size()-1),r=0;r<t;r++)e+=(u.poly.get(r+1).x-u.poly.get(r).x)*(u.poly.get(r+1).y+u.poly.get(r).y);return(e+=(u.poly.get(0).x-u.poly.get(t).x)*(u.poly.get(0).y+u.poly.get(t).y))<=0}),o(this,"getVectors",function(){return u.poly}),o(this,"push_back",function(t){void 0!==t&&t instanceof e.default&&u.poly.push_back(t)}),o(this,"empty",function(){return u.poly.empty()}),o(this,"get",function(e){if("number"!=typeof e)throw new Error("param idx was not number type");if(u.poly.size()<e)throw new Error("param idx was bigger then Vectors size");return u.poly.get(e)}),o(this,"setPolygon",function(e){if(e instanceof n)return u.poly=e.poly,u}),o(this,"clear",function(){u.poly.clear()}),o(this,"size",function(){return u.poly.size()}),void 0===a)a=new t.default;else if(!a instanceof t.default)throw new Error("param v was not Vector Type");this.poly=a};exports.default=u,o(u,"POLY_SPLIT_EPS",1e-6),o(u,"createPolygons",function(t,a,i){if(!t instanceof r.default)throw new Error("param l1 was not Line type");if(!a instanceof r.default)throw new Error("param l2 was not Line type");if(!i instanceof n.default)throw new Error("param res was not Polygons type");i.bisector=r.default.getBisector(t,a).result;var o=t.getStart(),u=t.getEnd(),l=a.getStart(),s=a.getEnd();if(i.p1_exist=!1,i.p4_exist=!1,o!=s){var p=new r.default(o,i.bisector.getLineNearestPoint(o)),g=new e.default,f=p.crossLineSegment(a,g);g=f.result,i.p1_exist=f.value&&g!=s,i.p1_exist?(i.leftTriangle.push_back(o),i.leftTriangle.push_back(s),i.leftTriangle.push_back(g),i.trapezoid.push_back(g)):i.trapezoid.push_back(s);var c=new r.default(s,i.bisector.getLineNearestPoint(s)),d=new e.default,y=c.crossLineSegment(t,d);d=y.result,i.p4_exist=y.value&&d!=o,i.p4_exist?(i.leftTriangle.push_back(s),i.leftTriangle.push_back(o),i.leftTriangle.push_back(d),i.trapezoid.push_back(d)):i.trapezoid.push_back(o)}else i.trapezoid.push_back(s),i.trapezoid.push_back(o);if(i.p2_exist=!1,i.p3_exist=!1,u!=l){var w=new r.default(l,i.bisector.getLineNearestPoint(l)),h=new e.default,v=w.crossLineSegment(t,h);h=v.result,i.p3_exist=v.value&&h!=u,i.p3_exist?(i.rightTriangle.push_back(l),i.rightTriangle.push_back(u),i.rightTriangle.push_back(h),i.trapezoid.push_back(h)):i.trapezoid.push_back(u);var m=new r.default(u,i.bisector.getLineNearestPoint(u)),b=new e.default,_=m.crossLineSegment(a,b);b=_.result,i.p2_exist=_.value&&b!=l,i.p2_exist?(i.rightTriangle.push_back(u),i.rightTriangle.push_back(l),i.rightTriangle.push_back(b),i.trapezoid.push_back(b)):i.trapezoid.push_back(l)}else i.trapezoid.push_back(u),i.trapezoid.push_back(l);return i.leftTriangleSquare=i.leftTriangle.countSquare(),i.trapezoidSquare=i.trapezoid.countSquare(),i.rightTriangleSquare=i.rightTriangle.countSquare(),i.totalSquare=i.leftTriangleSquare+i.trapezoidSquare+i.rightTriangleSquare,i}),o(u,"findCutLine",function(e,t,n){if(e>t.totalSquare)return{value:!1};if(!t.leftTriangle.empty()&&e<t.leftTriangleSquare){var a=e/t.leftTriangleSquare,i=t.leftTriangle.get(1).addition(t.leftTriangle.get(2).subtraction(t.leftTriangle.get(1)).multiplication(a));if(t.p1_exist)return n=new r.default(i,t.leftTriangle.get(0)),{value:!0,res:t,cutLine:n};if(t.p4_exist)return n=new r.default(t.leftTriangle.get(0),i),{value:!0,res:t,cutLine:n}}else{if(t.leftTriangleSquare<e&&e<t.leftTriangleSquare+t.trapezoidSquare){var o=new r.default(t.trapezoid.get(0),t.trapezoid.get(3)),l=r.default.getTanAngle(o,t.bisector),s=e-t.leftTriangleSquare;if(Math.abs(l)>u.POLY_SPLIT_EPS){var p=new r.default(t.trapezoid.get(0),t.trapezoid.get(1)).length(),g=new r.default(t.trapezoid.get(2),t.trapezoid.get(3)).length(),f=2*t.trapezoidSquare/(p+g),c=p*p-4*l*s;a=-(-p+Math.sqrt(c))/(2*l)/f}else a=s/t.trapezoidSquare;i=t.trapezoid.get(0).addition(t.trapezoid.get(3).subtraction(t.trapezoid.get(0)).multiplication(a));var d=t.trapezoid.get(1).addition(t.trapezoid.get(2).subtraction(t.trapezoid.get(1)).multiplication(a));return{value:!0,res:t,cutLine:n=new r.default(i,d)}}if(!t.rightTriangle.empty()&&e>t.leftTriangleSquare+t.trapezoidSquare){a=(s=e-t.leftTriangleSquare-t.trapezoidSquare)/t.rightTriangleSquare,i=t.rightTriangle.get(2).addition(t.rightTriangle.get(1).subtraction(t.rightTriangle.get(2)).multiplication(a));if(t.p3_exist)return n=new r.default(t.rightTriangle.get(0),i),{value:!0,res:t,cutLine:n};if(t.p2_exist)return n=new r.default(i,t.rightTriangle.get(0)),{value:!0,res:t,cutLine:n}}}return{value:!1,res:t,cutLine:n}}),o(u,"getCut",function(e,t,a,i,o,l){if(!e instanceof r.default)throw new Error("param l1 was not Line type");if(!t instanceof r.default)throw new Error("param l2 was not Line type");if(!i instanceof u)throw new Error("param poly1 was not Polygon type");if(!o instanceof u)throw new Error("param poly2 was not Polygon type");if("number"!=typeof a)throw new Error("param s was not number type");var s=a+o.countSquare_signed(),p=a+i.countSquare_signed();if(s>0){var g=new n.default;g=u.createPolygons(e,t,g);l=(f=u.findCutLine(s,g,l)).cutLine;if(f.value)return{value:!0,cut:l}}else if(p>0){g=new n.default;g=u.createPolygons(t,e,g);var f;l=(f=u.findCutLine(p,g,l)).cutLine;if(f.value)return{value:!0,cut:l=l.reverse()}}return{value:!1,cut:l}}),o(u,"createSubPoly",function(e,r,n,a,i){if(!e instanceof t.default)throw new Error("param poly was not Vectors Type");a=new u,i=new u;for(var o=n-r,l=1;l<=o;l++)a.push_back(e.get(l+r));var s=e.size(),p=s-o;for(l=1;l<=p;l++)i.push_back(e.get((l+n)%s));return{poly1:a,poly2:i}}),o(u,"isPointInsidePoly",function(t,n){for(var a=Math.round(t.size()-1),i=r.default.directedLine(n,new e.default(0,1e100)),o=0,u=0;u<a;u++){var l=new r.default(t.get(u),t.get(u+1));o+=i.crossSegmentSegment(l).value}l=new r.default(t.get(a),t.get(0));return(o+=i.crossSegmentSegment(l).value)%2!=0}),o(u,"isSegmentInsidePoly",function(t,n,a,i){for(var o=t.size(),l=0;l<o;l++)if(l!=a&&l!=i){var s=t.get(l),p=t.get(l+1<o?l+1:0),g=new e.default,f=new r.default(s,p).crossSegmentSegment(n,g);if(g=f.result,f.value&&s.subtraction(g).squareLength()>u.POLY_SPLIT_EPS&&p.subtraction(g).squareLength()>u.POLY_SPLIT_EPS)return 0}return u.isPointInsidePoly(t,n.getPointAlong(.5))}),o(u,"polygonCentroid",function(t){for(var r=t.size(),n=new e.default(0,0,0),a=0;a<r;a++)n=n.addition(t.get(a));return n=n.division(r)});
},{"./Vector.js":"MbfY","./Vectors.js":"AIfu","./Line.js":"xdgX","./Polygons.js":"vjZa"}],"uBxZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Vector",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"Vectors",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"Line",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"Polygon",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"Polygons",{enumerable:!0,get:function(){return o.default}});var e=u(require("./Vector.js")),r=u(require("./Vectors.js")),t=u(require("./Line.js")),n=u(require("./Polygon.js")),o=u(require("./Polygons.js"));function u(e){return e&&e.__esModule?e:{default:e}}
},{"./Vector.js":"MbfY","./Vectors.js":"AIfu","./Line.js":"xdgX","./Polygon.js":"B5rV","./Polygons.js":"vjZa"}],"Op8L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../src/index.js");function o(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function t(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var s=function s(l){var n=this;o(this,s),t(this,"drawPoly",function(e){n.ctx.beginPath();var o=e.get(0);n.ctx.moveTo(o.x,o.y);for(var t=1,s=e.size();t<s;t++)o=e.get(t),n.ctx.lineTo(o.x,o.y);n.ctx.closePath(),n.ctx.globalAlpha=.1,n.ctx.fill(),n.ctx.globalAlpha=1,n.ctx.stroke()}),t(this,"paintEvent",function(){if(n.ctx.clearRect(n.canvasSize.top,n.canvasSize.left,n.canvasSize.width,n.canvasSize.height),n.showHelp){n.ctx.font="13px '맑은 고딕'",n.ctx.fillStyle="#000";var o=0;n.ctx.fillText("Cut Area Square: "+Number(n.squareToCut),10,o+=14),n.ctx.fillText("Current this.scale: "+Number(n.scale),10,o+=14),n.ctx.fillText("Selected Polygon: "+n.selectedPolygon+" / "+n.polygons.length,10,o+=14),n.ctx.fillText("Selected Vertex: "+n.selectedPoint,10,o+=14),n.ctx.fillText("Q/W - increase/decrease cut area square to 100",10,o+=14),n.ctx.fillText("q/w - increase/decrease cut area square to 10",10,o+=14),n.ctx.fillText("a/s - switch between areas",10,o+=14),n.ctx.fillText("r - to restore initial polygon",10,o+=14),n.ctx.fillText("i - show/hide polygons square value",10,o+=14),n.ctx.fillText("c - to cut area as black cut line shows",10,o+=14),n.ctx.fillText("h - show/hide this text",10,o+=14),n.ctx.fillText("Mouse wheel to adjust this.scale",10,o+=14),n.ctx.fillText("Left mouse click and drag'n'drop on background to move all scene",10,o+=14),n.ctx.fillText("Left mouse click and drag'n'drop on vertex to move vertices",10,o+=14),n.ctx.fillText("Right mouse click to select nearest polygon",10,o+=14),n.ctx.fillText("Middle mouse click to split edge of selected polygon",10,224)}n.ctx.save(),n.ctx.translate(n.offset_x,n.offset_y),n.ctx.scale(n.scale,n.scale);for(var t=0;t<n.polygons.length;t++){var s=n.polygons_color[t%n.polygons_color.length];if(n.ctx.strokeStyle=s,n.ctx.fillStyle=s,n.ctx.lineWidth=1,n.drawPoly(n.polygons[t]),n.showInfo){var l=n.polygons[t].countCenter();n.ctx.font="normal 12px 'malgun gothic'",n.ctx.fillText(n.polygons[t].countSquare(),l.x,l.y)}}var c=new e.Line,i=n.polygons[n.selectedPolygon].split(n.squareToCut,c);i.poly1,i.poly2;if(c=i.cutLine,i.value&&(n.ctx.strokeStyle="black",n.ctx.lineWidth=1.5,n.ctx.beginPath(),n.ctx.moveTo(c.getStart().x,c.getStart().y),n.ctx.lineTo(c.getEnd().x,c.getEnd().y),n.ctx.closePath(),n.ctx.stroke()),n.showInfo){var a=n.polygons[n.selectedPolygon].findNearestPoint(n.mouse);null!=a&&"number"==typeof a.x&&(n.ctx.strokeStyle="rgba(0,0,0,0.5)",n.ctx.lineWidth=1,n.ctx.beginPath(),n.ctx.moveTo(n.mouse.x,n.mouse.y),n.ctx.lineTo(a.x,a.y),n.ctx.closePath(),n.ctx.stroke())}n.ctx.strokeStyle="rgba(250,0,0,0.5)",n.ctx.lineWidth=n.pointOutlineSize,n.drawPoly(n.polygons[n.selectedPolygon]);t=0;for(var r=n.polygons[n.selectedPolygon].size();t<r;t++){l=n.polygons[n.selectedPolygon].get(t);n.drawCircle(n.ctx,l.x,l.y,n.pointSize),n.selectedPoint===t?(n.ctx.fillStyle="rgba(255,255,0,0.9)",n.ctx.fill()):(n.ctx.fillStyle="rgba(255,255,255,1)",n.ctx.fill()),n.ctx.stroke()}n.ctx.restore()}),t(this,"paint",this.paintEvent),t(this,"mouseMoveEvent",function(o){if(n.mouseLeftPress&&-1!=n.selectedPolygon&&-1!=n.selectedPoint?(n.polygons[n.selectedPolygon].get(n.selectedPoint).x=n.polygons[n.selectedPolygon].get(n.selectedPoint).x+(o.clientX-n.mouse_x)/n.scale,n.polygons[n.selectedPolygon].get(n.selectedPoint).y=n.polygons[n.selectedPolygon].get(n.selectedPoint).y+(o.clientY-n.mouse_y)/n.scale):n.mouseLeftPress&&(n.offset_x=n.offset_x+(o.clientX-n.mouse_x),n.offset_y=n.offset_y+(o.clientY-n.mouse_y)),n.mouse_x=o.clientX,n.mouse_y=o.clientY,n.mouse=new e.Vector((o.clientX-n.offset_x)/n.scale,(o.clientY-n.offset_y)/n.scale,0),-1!=n.selectedPolygon){for(var t=0,s=n.polygons[n.selectedPolygon].size();t<s;t++){var l=n.polygons[n.selectedPolygon].get(t);if(n.mouse.subtraction(l).length()<n.pointSize+n.pointOutlineSize)return n.selectedPoint=t,void n.paint()}n.selectedPoint=-1}n.paint()}),t(this,"mouseReleaseEvent",function(e){return 0==e.button&&(console.log("lmouseup"),n.mouseLeftPress=0,n.selectedPoint=-1),1==e.button&&console.log("mmouseup"),2==e.button&&console.log("rmouseup"),!1}),t(this,"wheelEvent",function(e){var o=e.deltaY>0?1:e.deltaY<0?-1:0;return"number"==typeof o&&0!=o&&(n.scale+=5*n.scale/(100*o),n.paint()),!1}),t(this,"mousePressEvent",function(o){if(n.mouse_x=o.clientX,n.mouse_y=o.clientY,n.mouse=new e.Vector((o.clientX-n.offset_x)/n.scale,(o.clientY-n.offset_y)/n.scale,0),0==o.button){console.log("lbtn down"),n.mouseLeftPress=1;for(var t=0,s=n.polygons[n.selectedPolygon].size();t<s;t++){var l=n.polygons[n.selectedPolygon].get(t);if(n.mouse.subtraction(l).length()<n.pointSize+n.pointOutlineSize)return n.selectedPoint=t,void n.paint()}}if(1==o.button&&(console.log("mbtn down"),-1!=n.selectedPolygon&&n.mouse instanceof e.Vector&&(n.polygons[n.selectedPolygon].splitNearestEdge(n.mouse),n.paint())),2==o.button){console.log("rbtn down");var c=Number.MAX_VALUE;for(t=0,s=n.polygons.length;t<s;t++){var i=n.polygons[t].findDistance(n.mouse);i<c&&(c=i,n.selectedPolygon=t)}n.squareToCut=n.polygons[n.selectedPolygon].countSquare()/2,n.paint()}return!1}),t(this,"keyPressEvent",function(e){if(console.log("keyevent: ",e),81==e.keyCode&&(n.squareToCut+=e.shiftKey?1e3:100,n.paint()),87==e.keyCode){var o=n.squareToCut-(e.shiftKey?1e3:100);n.squareToCut=o<10?10:o,n.paint()}if(67==e.keyCode){var t=n.polygons[n.selectedPolygon].split(n.squareToCut),s=t.poly1,l=t.poly2;t.cutLine;t.value&&(n.polygons[n.selectedPolygon]=s,n.polygons.push(l),s.countSquare()<l.countSquare()&&(n.selectedPolygon=n.polygons.length-1),n.paint())}if(80==e.keyCode){for(var c=0,i=n.polygons[n.selectedPolygon].length;c<i;c++)n.polygons[n.selectedPolygon].get(c);n.paint()}65==e.keyCode&&(n.selectedPolygon>0&&n.selectedPolygon--,n.paint()),83==e.keyCode&&(n.selectedPolygon<Math.round(n.polygons.length-1)&&n.selectedPolygon++,n.paint()),82==e.keyCode&&(n.initPolygons(),n.paint()),73==e.keyCode&&(n.showInfo=!n.showInfo,n.paint()),72==e.keyCode&&(n.showHelp=!n.showHelp,n.paint())}),t(this,"initPolygons",function(){n.polygons=new Array,n.polygons.push(new e.Polygon),n.polygons[0].push_back(new e.Vector(450,100,0)),n.polygons[0].push_back(new e.Vector(900,100,0)),n.polygons[0].push_back(new e.Vector(900,400,0)),n.polygons[0].push_back(new e.Vector(450,400,0)),n.polygons.push(new e.Polygon),n.polygons[1].push_back(new e.Vector(900,420,0)),n.polygons[1].push_back(new e.Vector(900,600,0)),n.polygons[1].push_back(new e.Vector(450,600,0)),n.polygons[1].push_back(new e.Vector(450,420,0)),n.squareToCut=n.polygons[0].countSquare()/47,n.selectedPolygon=0}),t(this,"drawCircle",function(e,o,t,s){e.beginPath(),e.arc(o,t,s,0,2*Math.PI,!0),e.closePath()}),this.polygons=[],this.polygons_color=[],this.squareToCut,this.selectedPolygon=-1,this.showInfo=0,this.showHelp=1,this.scale=1,this.offset_x=0,this.offset_y=0,this.ctx=l.ctx,this.mouseLeftPress=0,this.mouse_x,this.mouse_y,this.mouse=new e.Vector(0,0,0),this.pointSize=10,this.pointOutlineSize=3,this.selectedPoint=-1,this.ke=null,this.polygons_color.push("darkRed"),this.polygons_color.push("green"),this.polygons_color.push("darkGreen"),this.polygons_color.push("blue"),this.polygons_color.push("darkBlue"),this.polygons_color.push("cyan"),this.polygons_color.push("darkCyan"),this.polygons_color.push("magenta"),this.polygons_color.push("darkMagenta"),this.polygons_color.push("darkYellow"),this.polygons_color.push("gray"),this.polygons_color.push("darkGray"),this.canvasSize={top:this.ctx.canvas.offsetTop,left:this.ctx.canvas.offsetLeft,width:this.ctx.canvas.width,height:this.ctx.canvas.height}};exports.default=s;
},{"../src/index.js":"uBxZ"}],"epB2":[function(require,module,exports) {
"use strict";var e,n=t(require("../app/renderArea.js"));function t(e){return e&&e.__esModule?e:{default:e}}var o=document.getElementById("cvs").getContext("2d");o.canvas.width=window.innerWidth,o.canvas.height=window.innerHeight,window.onresize=function(){o.canvas.width=window.innerWidth,o.canvas.height=window.innerHeight,canvasSize={top:0,left:0,width:window.innerWidth,height:window.innerHeight},console.log("onresize")},window.onload=function(){(e=new n.default({ctx:o})).initPolygons(),e.paint(),document.onkeyup=e.keyPressEvent,document.getElementById("cvs").onwheel=e.wheelEvent,document.getElementById("cvs").onmousemove=e.mouseMoveEvent,document.getElementById("cvs").onmouseup=e.mouseReleaseEvent,document.getElementById("cvs").onmousedown=e.mousePressEvent,document.getElementById("cvs").oncontextmenu=function(){return!1}};
},{"../app/renderArea.js":"Op8L"}]},{},["epB2"], null)
//# sourceMappingURL=main.47935252.js.map